<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - PROMME</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/auth.css">
    <style>
        .profile-page {
            min-height: 100vh;
            background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 50%, #E94397 100%);
            padding: 40px 20px;
        }

        .profile-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .profile-header {
            background: white;
            border-radius: 24px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .profile-header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            font-weight: 700;
        }

        .profile-info {
            flex: 1;
            margin-left: 24px;
        }

        .profile-name {
            font-size: 32px;
            font-weight: 700;
            color: var(--black);
            margin: 0 0 8px 0;
        }

        .profile-type {
            display: inline-block;
            padding: 6px 16px;
            background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%);
            color: white;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .profile-actions {
            display: flex;
            gap: 12px;
        }

        .btn-action {
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-edit {
            background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%);
            color: white;
        }

        .btn-edit:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        .btn-back {
            background: #F5F5F5;
            color: var(--text-color);
        }

        .btn-back:hover {
            background: #E0E0E0;
        }

        .profile-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .profile-card {
            background: white;
            border-radius: 24px;
            padding: 32px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .profile-card-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--black);
            margin: 0 0 24px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .profile-card-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .profile-field {
            margin-bottom: 20px;
        }

        .profile-field-label {
            font-size: 14px;
            font-weight: 600;
            color: #666;
            margin-bottom: 8px;
        }

        .profile-field-value {
            font-size: 16px;
            color: var(--text-color);
            padding: 12px;
            background: #F8F8F8;
            border-radius: 8px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: linear-gradient(135deg, #F8F8F8 0%, #F0F0F0 100%);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 0 0 8px 0;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
        }

        /* AI Chat Button */
        .ai-chat-btn-profile {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8B5FD8 0%, #FF6B35 100%);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(139, 95, 216, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 999;
        }

        .ai-chat-btn-profile:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(139, 95, 216, 0.5);
        }

        .ai-chat-btn-profile:active {
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .profile-content {
                grid-template-columns: 1fr;
            }

            .profile-header-top {
                flex-direction: column;
                align-items: flex-start;
            }

            .profile-info {
                margin-left: 0;
                margin-top: 16px;
            }

            .profile-actions {
                width: 100%;
                margin-top: 16px;
            }

            .btn-action {
                flex: 1;
            }

            .profile-stats {
                grid-template-columns: 1fr;
            }

            .ai-chat-btn-profile {
                width: 56px;
                height: 56px;
                bottom: 20px;
                right: 20px;
            }

            /* Vertical video for mobile (TikTok style) - container fits video */
            .profile-video {
                aspect-ratio: 9/16 !important;
                max-height: 80vh;
                width: 100% !important;
                max-width: 100%;
            }

            .profile-video-container {
                background: transparent;
                box-shadow: none;
            }

            .profile-video video {
                position: absolute !important;
                top: 0;
                left: 0;
                width: 100% !important;
                height: 100% !important;
                object-fit: cover !important;
                border-radius: 16px;
            }
        }

        /* Profile Video Section */
        .profile-video-container {
            margin-bottom: 24px;
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .profile-video {
            width: 100%;
            aspect-ratio: 16/9;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .profile-video video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .profile-video-placeholder {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            padding: 40px;
        }

        .profile-video-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: linear-gradient(135deg, #8B5FD8 0%, #FF6B35 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            z-index: 10;
        }

        /* AI Chat centered on mobile */
        @media (max-width: 480px) {
            #aiFollowUpChat {
                bottom: 50% !important;
                right: 50% !important;
                transform: translate(50%, 50%) !important;
                width: calc(100vw - 32px) !important;
                max-width: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="profile-page">
        <div class="profile-container">
            <!-- Profile Video (AI Generated) -->
            <div class="profile-video-container" id="profileVideoContainer" style="display: none;">
                <div class="profile-video" id="profileVideo">
                    <div class="profile-video-placeholder">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="opacity: 0.4; margin-bottom: 16px;">
                            <path d="M15 10L19.553 7.724C19.7054 7.64806 19.8744 7.61378 20.0436 7.62471C20.2128 7.63564 20.376 7.69138 20.5171 7.78631C20.6582 7.88124 20.7721 8.01204 20.8475 8.16548C20.9229 8.31891 20.9572 8.48972 20.947 8.661L20.947 15.339C20.9572 15.5103 20.9229 15.6811 20.8475 15.8345C20.7721 15.988 20.6582 16.1188 20.5171 16.2137C20.376 16.3086 20.2128 16.3644 20.0436 16.3753C19.8744 16.3862 19.7054 16.3519 19.553 16.276L15 14V10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <rect x="3" y="7" width="12" height="10" rx="2" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <p style="margin: 0; font-size: 14px;">–í–∏–¥–µ–æ –ø—Ä–æ—Ñ–∏–ª—è –Ω–µ —Å–æ–∑–¥–∞–Ω–æ</p>
                    </div>
                    <div class="profile-video-badge">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                        </svg>
                        AI Generated
                    </div>
                </div>
            </div>

            <!-- Profile Header -->
            <div class="profile-header">
                <div class="profile-header-top">
                    <div style="display: flex; align-items: center;">
                        <div class="profile-avatar" id="profileAvatar">
                            <!-- Will be filled with initials -->
                        </div>
                        <div class="profile-info">
                            <h1 class="profile-name" id="profileDisplayName">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                            <span class="profile-type" id="profileTypeLabel">–°–æ–∏—Å–∫–∞—Ç–µ–ª—å</span>
                        </div>
                    </div>
                    <div class="profile-actions">
                        <button class="btn-action btn-back" onclick="window.location.href='index.html'">
                            ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </button>
                        <button class="btn-action btn-edit" id="editProfileBtn">
                            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </div>

                <!-- Profile Stats -->
                <div class="profile-stats">
                    <div class="stat-card">
                        <div class="stat-value">100%</div>
                        <div class="stat-label">–ü—Ä–æ—Ñ–∏–ª—å –∑–∞–ø–æ–ª–Ω–µ–Ω</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="experienceYears">0</div>
                        <div class="stat-label">–õ–µ—Ç –æ–ø—ã—Ç–∞</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">‚úì</div>
                        <div class="stat-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω AI</div>
                    </div>
                </div>
            </div>

            <!-- Profile Content -->
            <div class="profile-content">
                <!-- Personal Information -->
                <div class="profile-card">
                    <h2 class="profile-card-title">
                        <div class="profile-card-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                    </h2>
                    <div class="profile-field">
                        <div class="profile-field-label">Email</div>
                        <div class="profile-field-value" id="fieldEmail">-</div>
                    </div>
                    <div class="profile-field">
                        <div class="profile-field-label">–¢–µ–ª–µ—Ñ–æ–Ω</div>
                        <div class="profile-field-value" id="fieldPhone">-</div>
                    </div>
                    <div class="profile-field">
                        <div class="profile-field-label">–î–æ–ª–∂–Ω–æ—Å—Ç—å</div>
                        <div class="profile-field-value" id="fieldPosition">-</div>
                    </div>
                    <div class="profile-field">
                        <div class="profile-field-label">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã</div>
                        <div class="profile-field-value" id="fieldExperience">-</div>
                    </div>
                </div>

                <!-- Education & Skills -->
                <div class="profile-card">
                    <h2 class="profile-card-title">
                        <div class="profile-card-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 14L21 9L12 4L3 9L12 14ZM12 14L18.16 10.53C18.71 11.66 19 12.92 19 14.24C19 15.56 18.71 16.82 18.16 17.95M12 14L5.84 10.53C5.29 11.66 5 12.92 5 14.24C5 15.56 5.29 16.82 5.84 17.95M12 14V22.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞–≤—ã–∫–∏
                    </h2>
                    <div class="profile-field">
                        <div class="profile-field-label">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</div>
                        <div class="profile-field-value" id="fieldEducation">-</div>
                    </div>
                    <div class="profile-field">
                        <div class="profile-field-label">–ù–∞–≤—ã–∫–∏</div>
                        <div class="profile-field-value" id="fieldSkills">-</div>
                    </div>
                </div>

                <!-- About -->
                <div class="profile-card" style="grid-column: 1 / -1;">
                    <h2 class="profile-card-title">
                        <div class="profile-card-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 12H15M9 16H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L18.7071 8.70711C18.8946 8.89464 19 9.149 19 9.41421V19C19 20.1046 18.1046 21 17 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        –û —Å–µ–±–µ
                    </h2>
                    <div class="profile-field">
                        <div class="profile-field-value" id="fieldAbout">-</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Chat Button (Always visible) -->
    <button class="ai-chat-btn-profile" id="aiChatBtnProfile" aria-label="AI –ü–æ–º–æ—â–Ω–∏–∫">
        <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 12C8 9.79086 9.79086 8 12 8H24C26.2091 8 28 9.79086 28 12V24C28 26.2091 26.2091 28 24 28H16L10 34V28H12C9.79086 28 8 26.2091 8 24V12Z" fill="white" opacity="0.9"/>
            <path d="M20 18C20 15.7909 21.7909 14 24 14H36C38.2091 14 40 15.7909 40 18V30C40 32.2091 38.2091 34 36 34H28L22 40V34H24C21.7909 34 20 32.2091 20 30V18Z" fill="white"/>
            <text x="30" y="27" text-anchor="middle" fill="#8B5FD8" font-size="11" font-weight="bold" font-family="Arial, sans-serif">AI</text>
        </svg>
    </button>

    <!-- Load configuration first -->
    <script src="assets/js/config.js"></script>
    
    <!-- Load API services -->
    <script src="assets/js/api-service.js"></script>
    <script src="assets/js/ui-utils.js"></script>
    <script src="assets/js/auth-api.js"></script>
    <script src="assets/js/profile-api.js"></script>
    <script src="assets/js/vacancies-api.js"></script>
    
    <!-- Load main script -->
    <script src="assets/js/main.js"></script>
    
    <script>
        // Load and display profile data
        document.addEventListener('DOMContentLoaded', function() {
            const userData = JSON.parse(localStorage.getItem('prommeAuthUser') || '{}');
            const profileData = userData.profileData || {};
            
            console.log('Loading profile:', profileData);
            
            // Display name and avatar
            const name = profileData.name || userData.name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
            document.getElementById('profileDisplayName').textContent = name;
            
            // Get initials
            const initials = name.split(' ').map(word => word[0]).join('').substring(0, 2).toUpperCase();
            const avatarElement = document.getElementById('profileAvatar');
            
            // Check if there's a saved profile photo
            if (userData.profilePhoto) {
                // Display the saved photo
                avatarElement.style.backgroundImage = `url(${userData.profilePhoto})`;
                avatarElement.style.backgroundSize = 'cover';
                avatarElement.style.backgroundPosition = 'center';
                avatarElement.textContent = '';
            } else {
                // Show initials
                avatarElement.textContent = initials;
            }
            
            // Profile type
            const profileTypeLabel = userData.profileTypeLabel || '–°–æ–∏—Å–∫–∞—Ç–µ–ª—å';
            document.getElementById('profileTypeLabel').textContent = profileTypeLabel;
            
            // Fill fields
            document.getElementById('fieldEmail').textContent = profileData.email || userData.email || '-';
            document.getElementById('fieldPhone').textContent = profileData.phone || '-';
            document.getElementById('fieldPosition').textContent = profileData.position || '-';
            document.getElementById('fieldExperience').textContent = profileData.experience ? profileData.experience + ' –ª–µ—Ç' : '-';
            document.getElementById('fieldEducation').textContent = profileData.education || '-';
            document.getElementById('fieldSkills').textContent = profileData.skills || '-';
            document.getElementById('fieldAbout').textContent = profileData.about || '-';
            
            // Update experience stat
            document.getElementById('experienceYears').textContent = profileData.experience || '0';
            
            // Edit button
            document.getElementById('editProfileBtn').addEventListener('click', function() {
                // For now, go back to home and trigger AI chat
                window.location.href = 'index.html?edit=profile';
            });
            
            // Check if profile has video
            const hasVideo = userData.profileVideo || false;
            if (hasVideo) {
                showProfileVideo(userData.profileVideo);
            }
            
            // Check if this is first visit after profile save
            const justSaved = sessionStorage.getItem('profileJustSaved');
            if (justSaved === 'true') {
                sessionStorage.removeItem('profileJustSaved');
                
                // Check if user already has video
                if (!hasVideo) {
                    // Open AI chat to offer video generation after delay
                    setTimeout(function() {
                        openVideoGenerationChat();
                    }, 1000);
                } else {
                    // Open regular follow-up chat
                    setTimeout(function() {
                        openFollowUpChat();
                    }, 1000);
                }
            }
            
            // AI Chat Button handler
            const aiChatBtn = document.getElementById('aiChatBtnProfile');
            if (aiChatBtn) {
                aiChatBtn.addEventListener('click', function() {
                    openFollowUpChat();
                });
            }
        });
        
        // Open AI chat with follow-up questions
        function openFollowUpChat() {
            // Check if chat already exists
            const existingChat = document.getElementById('aiFollowUpChat');
            if (existingChat) {
                return; // Don't open multiple chats
            }
            
            // Hide AI button when chat opens
            const aiBtn = document.getElementById('aiChatBtnProfile');
            if (aiBtn) {
                aiBtn.style.display = 'none';
            }
            
            // Create a simple notification/chat overlay
            const chatOverlay = document.createElement('div');
            chatOverlay.id = 'aiFollowUpChat';
            chatOverlay.style.cssText = `
                position: fixed;
                bottom: 24px;
                right: 24px;
                width: 400px;
                max-width: calc(100vw - 48px);
                background: white;
                border-radius: 20px;
                box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);
                padding: 24px;
                z-index: 10000;
                animation: slideUp 0.3s ease;
            `;
            
            chatOverlay.innerHTML = `
                <style>
                    @keyframes slideUp {
                        from { transform: translateY(100px); opacity: 0; }
                        to { transform: translateY(0); opacity: 1; }
                    }
                </style>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8B5FD8 0%, #FF6B35 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">AI</div>
                        <div>
                            <div style="font-weight: 700; color: #1a1a1a; font-size: 16px;">PROMME AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</div>
                            <div style="font-size: 12px; color: #666;">–û–Ω–ª–∞–π–Ω</div>
                        </div>
                    </div>
                    <button onclick="closeAIChat()" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #999; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s ease;">√ó</button>
                </div>
                
                <div style="background: linear-gradient(135deg, #F8F8F8 0%, #F0F0F0 100%); border-radius: 12px; padding: 20px; margin-bottom: 16px;">
                    <p style="margin: 0 0 12px 0; color: #1a1a1a; font-size: 15px; font-weight: 600;">
                        üéâ –û—Ç–ª–∏—á–Ω–æ! –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω.
                    </p>
                    <p style="margin: 0 0 16px 0; color: #333; font-size: 14px;">
                        –ß–µ–º –µ—â—ë –º–æ–≥—É –ø–æ–º–æ—á—å?
                    </p>
                    <ul style="margin: 0; padding-left: 20px; color: #555; font-size: 14px; line-height: 1.6;">
                        <li style="margin-bottom: 8px;">‚ú® –ü–æ–º–æ—á—å –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</li>
                        <li style="margin-bottom: 8px;">üìù –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å</li>
                        <li style="margin-bottom: 8px;">üíº –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é</li>
                        <li>üîî –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö</li>
                    </ul>
                </div>
                
                <div style="display: flex; gap: 8px;">
                    <button onclick="showVacancies()" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 14px;">
                        –ù–∞–π—Ç–∏ –≤–∞–∫–∞–Ω—Å–∏–∏
                    </button>
                    <button onclick="closeAIChat()" style="flex: 1; padding: 14px; background: #F5F5F5; color: #333; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; font-size: 14px; transition: all 0.3s ease;">
                        –ü–æ–∑–∂–µ
                    </button>
                </div>
            `;
            
            document.body.appendChild(chatOverlay);
        }
        
        // Close AI chat and show button again
        function closeAIChat() {
            const chat = document.getElementById('aiFollowUpChat');
            if (chat) {
                chat.remove();
            }
            
            // Show AI button again
            const aiBtn = document.getElementById('aiChatBtnProfile');
            if (aiBtn) {
                aiBtn.style.display = 'flex';
            }
        }
        
        // Show vacancies list
        function showVacancies() {
            const chat = document.getElementById('aiFollowUpChat');
            if (!chat) return;
            
            // Get user profile data for matching
            const userData = JSON.parse(localStorage.getItem('prommeAuthUser') || '{}');
            const profileData = userData.profileData || {};
            
            // Sample vacancies (would come from API in production)
            const vacancies = [
                {
                    id: 'welder-5',
                    title: '–°–≤–∞—Ä—â–∏–∫ 5 —Ä–∞–∑—Ä—è–¥–∞',
                    company: '–û–û–û "–£—Ä–∞–ª–º–∞—à–∑–∞–≤–æ–¥"',
                    location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥',
                    salary: '80 000 - 120 000 ‚ÇΩ',
                    match: 95,
                    logo: 'üè≠'
                },
                {
                    id: 'welder-4',
                    title: '–°–≤–∞—Ä—â–∏–∫ 4 —Ä–∞–∑—Ä—è–¥–∞',
                    company: '–ê–û "–ß–¢–ü–ó"',
                    location: '–ß–µ–ª—è–±–∏–Ω—Å–∫',
                    salary: '70 000 - 100 000 ‚ÇΩ',
                    match: 88,
                    logo: '‚öôÔ∏è'
                },
                {
                    id: 'engineer',
                    title: '–ò–Ω–∂–µ–Ω–µ—Ä-—Ç–µ—Ö–Ω–æ–ª–æ–≥',
                    company: '–û–û–û "–ü—Ä–æ–º–¢–µ—Ö"',
                    location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥',
                    salary: '90 000 - 150 000 ‚ÇΩ',
                    match: 75,
                    logo: 'üîß'
                }
            ];
            
            // Build vacancies list HTML
            const vacanciesHTML = vacancies.map(vacancy => `
                <div style="background: white; border: 2px solid #F0F0F0; border-radius: 16px; padding: 16px; margin-bottom: 12px; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.borderColor='#FF6B35'; this.style.transform='translateY(-2px)'" onmouseout="this.style.borderColor='#F0F0F0'; this.style.transform='translateY(0)'">
                    <div style="display: flex; gap: 12px; margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #F8F8F8 0%, #F0F0F0 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0;">
                            ${vacancy.logo}
                        </div>
                        <div style="flex: 1; min-width: 0;">
                            <div style="font-weight: 700; font-size: 15px; color: #1a1a1a; margin-bottom: 4px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                ${vacancy.title}
                            </div>
                            <div style="font-size: 13px; color: #666; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                ${vacancy.company}
                            </div>
                        </div>
                        <div style="background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%); padding: 4px 12px; border-radius: 12px; height: fit-content; white-space: nowrap;">
                            <span style="color: #2E7D32; font-weight: 700; font-size: 12px;">${vacancy.match}%</span>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 6px; font-size: 13px; color: #666;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            ${vacancy.location}
                        </div>
                        <div style="font-weight: 700; font-size: 14px; color: #FF6B35;">
                            ${vacancy.salary}
                        </div>
                    </div>
                    
                    <button onclick="window.location.href='vacancy.html?id=${vacancy.id}'" style="width: 100%; padding: 10px; background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%); color: white; border: none; border-radius: 10px; font-weight: 600; font-size: 13px; cursor: pointer; transition: all 0.3s ease;">
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
                    </button>
                </div>
            `).join('');
            
            // Update chat content
            chat.innerHTML = `
                <style>
                    @keyframes slideUp {
                        from { transform: translateY(100px); opacity: 0; }
                        to { transform: translateY(0); opacity: 1; }
                    }
                </style>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8B5FD8 0%, #FF6B35 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">AI</div>
                        <div>
                            <div style="font-weight: 700; color: #1a1a1a; font-size: 16px;">–ü–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</div>
                            <div style="font-size: 12px; color: #666;">–ù–∞–π–¥–µ–Ω–æ ${vacancies.length} –≤–∞–∫–∞–Ω—Å–∏–π</div>
                        </div>
                    </div>
                    <button onclick="closeAIChat()" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #999; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s ease;">√ó</button>
                </div>
                
                <div style="max-height: 500px; overflow-y: auto; padding-right: 4px;">
                    ${vacanciesHTML}
                </div>
                
                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #F0F0F0;">
                    <button onclick="closeAIChat()" style="width: 100%; padding: 12px; background: #F5F5F5; color: #333; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; font-size: 14px; transition: all 0.3s ease;">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            `;
        }
        
        // Show profile video
        function showProfileVideo(videoUrl) {
            const videoContainer = document.getElementById('profileVideoContainer');
            const videoElement = document.getElementById('profileVideo');
            
            if (videoContainer && videoElement) {
                videoContainer.style.display = 'block';
                videoElement.innerHTML = `
                    <video controls autoplay muted loop>
                        <source src="${videoUrl}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="profile-video-badge">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                        </svg>
                        AI Generated
                    </div>
                `;
            }
        }
        
        // Open video generation chat
        function openVideoGenerationChat() {
            const existingChat = document.getElementById('aiFollowUpChat');
            if (existingChat) return;
            
            const aiBtn = document.getElementById('aiChatBtnProfile');
            if (aiBtn) aiBtn.style.display = 'none';
            
            const userData = JSON.parse(localStorage.getItem('prommeAuthUser') || '{}');
            const profileType = userData.profileType || 'job-seeker';
            
            let videoDescription = '–≤–≤–æ–¥–Ω–æ–µ –≤–∏–¥–µ–æ –æ –≤–∞—Å';
            if (profileType === 'company') {
                videoDescription = '–≤–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏';
            } else if (profileType === 'facilitator') {
                videoDescription = '–≤–∏–¥–µ–æ –æ –≤–∞—à–µ–º —É—á–µ–±–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏';
            }
            
            const chatOverlay = document.createElement('div');
            chatOverlay.id = 'aiFollowUpChat';
            chatOverlay.style.cssText = `
                position: fixed;
                bottom: 24px;
                right: 24px;
                width: 400px;
                max-width: calc(100vw - 48px);
                background: white;
                border-radius: 20px;
                box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);
                padding: 24px;
                z-index: 10000;
                animation: slideUp 0.3s ease;
            `;
            
            chatOverlay.innerHTML = `
                <style>
                    @keyframes slideUp {
                        from { transform: translateY(100px); opacity: 0; }
                        to { transform: translateY(0); opacity: 1; }
                    }
                </style>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8B5FD8 0%, #FF6B35 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">AI</div>
                        <div>
                            <div style="font-weight: 700; color: #1a1a1a; font-size: 16px;">PROMME AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</div>
                            <div style="font-size: 12px; color: #666;">–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ-–ø—Ä–æ—Ñ–∏–ª—è</div>
                        </div>
                    </div>
                    <button onclick="closeAIChat()" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #999;">√ó</button>
                </div>
                
                <div style="background: linear-gradient(135deg, #F8F8F8 0%, #F0F0F0 100%); border-radius: 12px; padding: 20px; margin-bottom: 16px;">
                    <p style="margin: 0 0 12px 0; color: #1a1a1a; font-size: 15px; font-weight: 600;">
                        üé¨ –°–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ-–∞–≤–∞—Ç–∞—Ä?
                    </p>
                    <p style="margin: 0; color: #333; font-size: 14px; line-height: 1.6;">
                        –Ø –º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å ${videoDescription} —Å –ø–æ–º–æ—â—å—é AI! –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –±–æ–ª–µ–µ –∂–∏–≤—ã–º –∏ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º.
                    </p>
                </div>
                
                <div style="display: flex; gap: 8px;">
                    <button onclick="startVideoGeneration()" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                        üé• –î–∞, —Å–æ–∑–¥–∞—Ç—å
                    </button>
                    <button onclick="closeAIChat()" style="flex: 1; padding: 14px; background: #F5F5F5; color: #333; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                        –ü–æ–∑–∂–µ
                    </button>
                </div>
            `;
            
            document.body.appendChild(chatOverlay);
        }
        
        // Start video generation
        function startVideoGeneration() {
            const chat = document.getElementById('aiFollowUpChat');
            if (!chat) return;
            
            chat.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8B5FD8 0%, #FF6B35 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">AI</div>
                        <div>
                            <div style="font-weight: 700; color: #1a1a1a; font-size: 16px;">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ</div>
                            <div style="font-size: 12px; color: #666;">–î–ª—è –∞–≤–∞—Ç–∞—Ä–∞</div>
                        </div>
                    </div>
                </div>
                
                <div style="border: 2px dashed #E0E0E0; border-radius: 12px; padding: 32px; text-align: center; cursor: pointer; margin-bottom: 16px;" onclick="document.getElementById('avatarPhoto').click()">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" style="margin-bottom: 12px; opacity: 0.5;">
                        <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="#FF6B35" stroke-width="2"/>
                    </svg>
                    <p style="margin: 0; font-weight: 600;">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ</p>
                    <p style="margin: 8px 0 0 0; font-size: 12px; color: #666;">JPG, PNG –¥–æ 10MB</p>
                    <input type="file" id="avatarPhoto" accept="image/*" style="display: none;" onchange="handlePhotoUpload(event)">
                </div>
                
                <div style="background: #FFF8E1; border-radius: 12px; padding: 12px; margin-bottom: 16px;">
                    <p style="margin: 0; font-size: 13px; color: #F57C00;">üí° –ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ —Ñ–æ—Ç–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–Ω–æ–≥–æ –≤–∏–¥–µ–æ</p>
                </div>
                
                <div style="border: 2px dashed #E0E0E0; border-radius: 12px; padding: 16px; text-align: center; cursor: pointer;" onclick="document.getElementById('extraPhotos').click()">
                    <p style="margin: 0; font-size: 13px; font-weight: 600;">+ –î–æ–ø. —Ñ–æ—Ç–æ</p>
                    <input type="file" id="extraPhotos" accept="image/*" multiple style="display: none;" onchange="handleExtraPhotos(event)">
                </div>
            `;
        }
        
        function handlePhotoUpload(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            // Check if it's an image
            if (!file.type.startsWith('image/')) {
                alert('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ');
                return;
            }
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º 5MB');
                return;
            }
            
            // Show loading
            const avatar = document.querySelector('.profile-avatar');
            const originalContent = avatar ? avatar.innerHTML : '';
            if (avatar) {
                avatar.innerHTML = '<div style="font-size: 24px;">‚è≥</div>';
            }
            
            // Read and store the file
            const reader = new FileReader();
            reader.onload = function(event) {
                const photoDataUrl = event.target.result;
                
                // Update avatar
                if (avatar) {
                    avatar.style.backgroundImage = `url(${photoDataUrl})`;
                    avatar.style.backgroundSize = 'cover';
                    avatar.style.backgroundPosition = 'center';
                    avatar.innerHTML = '';
                }
                
                // Save to localStorage
                const userData = JSON.parse(localStorage.getItem('prommeAuthUser') || '{}');
                userData.profilePhoto = photoDataUrl;
                localStorage.setItem('prommeAuthUser', JSON.stringify(userData));
                
                // Show success message
                alert('‚úÖ –§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
                
                // Show video generation option
                setTimeout(() => {
                    if (confirm('üé¨ –•–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å AI –≤–∏–¥–µ–æ —Å —ç—Ç–∏–º —Ñ–æ—Ç–æ?')) {
                        showVideoProcessing();
                    }
                }, 500);
            };
            
            reader.onerror = function() {
                alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ');
                if (avatar) avatar.innerHTML = originalContent;
            };
            
            reader.readAsDataURL(file);
        }
        
        function handleExtraPhotos(e) {
            const files = Array.from(e.target.files);
            if (files.length === 0) return;
            
            // Check if all are images
            const invalidFiles = files.filter(f => !f.type.startsWith('image/'));
            if (invalidFiles.length > 0) {
                alert('‚ùå –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
                return;
            }
            
            // Check total size
            const totalSize = files.reduce((sum, f) => sum + f.size, 0);
            if (totalSize > 10 * 1024 * 1024) {
                alert('‚ùå –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º 10MB');
                return;
            }
            
            let loadedCount = 0;
            const photoDataUrls = [];
            
            files.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(event) {
                    photoDataUrls.push(event.target.result);
                    loadedCount++;
                    
                    if (loadedCount === files.length) {
                        // All files loaded, save to localStorage
                        const userData = JSON.parse(localStorage.getItem('prommeAuthUser') || '{}');
                        userData.extraPhotos = userData.extraPhotos || [];
                        userData.extraPhotos.push(...photoDataUrls);
                        localStorage.setItem('prommeAuthUser', JSON.stringify(userData));
                        
                        alert(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${files.length} —Ñ–æ—Ç–æ!\\n\\nüí° –§–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ`);
                    }
                };
                reader.readAsDataURL(file);
            });
        }
        
        function showVideoProcessing() {
            const chat = document.getElementById('aiFollowUpChat');
            if (!chat) return;
            
            chat.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="width: 80px; height: 80px; margin: 0 auto 24px; border: 4px solid #F0F0F0; border-top-color: #FF6B35; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                    <p style="margin: 0; font-weight: 600;" id="status">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...</p>
                    <p style="margin: 8px 0 0 0; color: #666;" id="progress">0%</p>
                </div>
                <style>@keyframes spin { to { transform: rotate(360deg); } }</style>
            `;
            
            let progress = 0;
            const statuses = ['–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...', '–°–æ–∑–¥–∞—ë–º –∞–≤–∞—Ç–∞—Ä...', '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–∏–¥–µ–æ...', '–†–µ–Ω–¥–µ—Ä–∏–º...'];
            const interval = setInterval(() => {
                progress += 15;
                if (progress > 100) progress = 100;
                document.getElementById('progress').textContent = progress + '%';
                document.getElementById('status').textContent = statuses[Math.floor(progress / 30)];
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(showVideoSelection, 500);
                }
            }, 300);
        }
        
        function showVideoSelection() {
            const chat = document.getElementById('aiFollowUpChat');
            if (!chat) return;
            
            chat.innerHTML = `
                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                    <div>
                        <div style="font-weight: 700;">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ</div>
                        <div style="font-size: 12px; color: #666;">2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≥–æ—Ç–æ–≤—ã</div>
                    </div>
                </div>
                
                <div style="display: grid; gap: 12px;">
                    <div style="border: 3px solid #FF6B35; border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(255, 107, 53, 0.2);" onclick="selectVideo(1)" onmouseover="this.style.transform='scale(1.03)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="aspect-ratio: 16/9; background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; position: relative;">
                            <div style="text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 8px;">üé¨</div>
                                <div style="font-size: 16px;">AI –ê–≤–∞—Ç–∞—Ä</div>
                            </div>
                            <div style="position: absolute; top: 12px; right: 12px; background: linear-gradient(135deg, #4ade80, #22c55e); padding: 6px 12px; border-radius: 20px; font-size: 11px; font-weight: 700;">
                                ‚úì –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º
                            </div>
                        </div>
                        <div style="padding: 16px; background: white;">
                            <p style="margin: 0 0 4px 0; font-weight: 700; font-size: 15px; color: #1a1a1a;">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ</p>
                            <p style="margin: 0; font-size: 13px; color: #666; line-height: 1.4;">–í–∏–¥–µ–æ-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å AI –∞–≤–∞—Ç–∞—Ä–æ–º –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è —Å–æ–∏—Å–∫–∞—Ç–µ–ª—è</p>
                        </div>
                    </div>
                    
                    <div style="border: 2px solid #E0E0E0; border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.3s ease;" onclick="selectVideo(2)" onmouseover="this.style.borderColor='#FF6B35'; this.style.transform='translateY(-2px)'" onmouseout="this.style.borderColor='#E0E0E0'; this.style.transform='translateY(0)'">
                        <div style="aspect-ratio: 16/9; background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">
                            <div style="text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 8px;">üé•</div>
                                <div style="font-size: 16px;">AI –ê–≤–∞—Ç–∞—Ä</div>
                            </div>
                        </div>
                        <div style="padding: 16px; background: white;">
                            <p style="margin: 0 0 4px 0; font-weight: 700; font-size: 15px; color: #1a1a1a;">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç</p>
                            <p style="margin: 0; font-size: 13px; color: #666; line-height: 1.4;">–¢–æ—Ç –∂–µ AI –∞–≤–∞—Ç–∞—Ä, –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                        </div>
                    </div>
                </div>
                
                <p style="margin: 16px 0 0 0; text-align: center; font-size: 12px; color: #999;">
                    üí° –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–∞—à–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ
                </p>
            `;
        }
        
        function selectVideo(variant) {
            // Use local video file for job seeker profiles
            const videos = {
                1: '–∞–≤–∞—Ç–∞—Ä 01.mp4',
                2: '–∞–≤–∞—Ç–∞—Ä 01.mp4'
            };
            
            const userData = JSON.parse(localStorage.getItem('prommeAuthUser') || '{}');
            userData.profileVideo = videos[variant];
            localStorage.setItem('prommeAuthUser', JSON.stringify(userData));
            
            showProfileVideo(videos[variant]);
            
            const chat = document.getElementById('aiFollowUpChat');
            if (chat) {
                chat.innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, #4ade80, #22c55e); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px;">‚úì</div>
                        <p style="margin: 0; font-weight: 700; font-size: 18px;">–í–∏–¥–µ–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!</p>
                        <p style="margin: 8px 0 0 0; color: #666;">–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª—ë–Ω</p>
                    </div>
                `;
                setTimeout(closeAIChat, 2000);
            }
        }
    </script>
</body>
</html>

